<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:FinanzasApp.ViewModels"
             x:Class="FinanzasApp.Views.ExpenseDetailPage"
             x:DataType="viewModels:ExpenseDetailViewModel"
             Shell.NavBarIsVisible="False">

    <Grid>
        <!-- FONDO -->
        <Grid BackgroundColor="#020617">
            <Ellipse WidthRequest="420" HeightRequest="420"
                     Fill="#22c55e" Opacity="0.35"
                     TranslationX="-140" TranslationY="260" />
            <Ellipse WidthRequest="420" HeightRequest="420"
                     Fill="#7c3aed" Opacity="0.45"
                     TranslationX="120" TranslationY="360" />
        </Grid>

        <ScrollView Padding="16">
            <VerticalStackLayout Spacing="16">

                <!-- HEADER -->
                <Grid ColumnDefinitions="Auto,*"
                      Margin="0,10,0,10">
                    <ImageButton Source="back.png"
                                 BackgroundColor="Transparent"
                                 Clicked="OnBackTapped" />
                    <Label Grid.Column="1"
                           Text="Movimiento"
                           FontSize="22"
                           FontAttributes="Bold"
                           TextColor="White"
                           VerticalOptions="Center" />
                </Grid>

                <!-- CARD FORM -->
                <Frame BackgroundColor="#020617"
                       BorderColor="#1f2937"
                       CornerRadius="24"
                       HasShadow="False"
                       Padding="18">

                    <VerticalStackLayout Spacing="14">

                        <Label Text="Registrar ingreso o gasto"
                               FontAttributes="Bold"
                               TextColor="#e5e7eb"
                               FontSize="16" />

                        <Entry Placeholder="Descripción"
                               Text="{Binding Description}"
                               TextColor="White"
                               PlaceholderColor="#6b7280" />

                        <Entry Placeholder="Monto"
                               Keyboard="Numeric"
                               Text="{Binding Amount}"
                               TextColor="White"
                               PlaceholderColor="#6b7280" />

                        <DatePicker Date="{Binding Date}"
                                    TextColor="White"
                                    BackgroundColor="Transparent" />

                        <HorizontalStackLayout Spacing="10"
                                               VerticalOptions="Center">
                            <Label Text="¿Es ingreso?"
                                   TextColor="#e5e7eb" />
                            <Switch IsToggled="{Binding IsIncome}" />
                        </HorizontalStackLayout>

                        <Button Text="Guardar"
                                Command="{Binding SaveCommand}"
                                BackgroundColor="#22d3ee"
                                TextColor="Black"
                                CornerRadius="22"
                                FontAttributes="Bold"
                                Margin="0,10,0,0" />
                    </VerticalStackLayout>
                </Frame>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
