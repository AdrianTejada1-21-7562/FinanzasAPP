<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:FinanzasApp.ViewModels"
             x:Class="FinanzasApp.Views.SensorPage"
             x:DataType="viewModels:SensorViewModel"
             Shell.NavBarIsVisible="False">

    <Grid IgnoreSafeArea="True">
        <Grid InputTransparent="True">
            <Ellipse x:Name="TopGlow"
                     WidthRequest="320"
                     HeightRequest="320"
                     HorizontalOptions="Start"
                     VerticalOptions="Start"
                     Margin="-60,-40,0,0"
                     Opacity="0.45">
                <Ellipse.Fill>
                    <RadialGradientBrush Center="0.3,0.2" Radius="0.9">
                        <GradientStop Color="#57AEFF" Offset="0.0" />
                        <GradientStop Color="#00000000" Offset="1.0" />
                    </RadialGradientBrush>
                </Ellipse.Fill>
            </Ellipse>

            <Ellipse x:Name="BottomGlow"
                     WidthRequest="360"
                     HeightRequest="360"
                     HorizontalOptions="End"
                     VerticalOptions="End"
                     Margin="0,0,-80,-120"
                     Opacity="0.55">
                <Ellipse.Fill>
                    <RadialGradientBrush Center="0.7,0.8" Radius="1.0">
                        <GradientStop Color="#8B5CF6" Offset="0.0" />
                        <GradientStop Color="#00000000" Offset="1.0" />
                    </RadialGradientBrush>
                </Ellipse.Fill>
            </Ellipse>
        </Grid>

        <ScrollView VerticalScrollBarVisibility="Never">
            <VerticalStackLayout x:Name="SensorContainer" Padding="22,48" Spacing="18">
                <Grid ColumnDefinitions="Auto,*" VerticalOptions="Start">
                    <Button Text="←" WidthRequest="44" HeightRequest="44" CornerRadius="22" Clicked="OnBackClicked" Style="{StaticResource SecondaryButtonStyle}" />
                    <VerticalStackLayout Grid.Column="1" Spacing="2" Margin="12,0,0,0">
                        <Label Text="FinanzasApp" FontAttributes="Bold" FontSize="14" />
                        <Label Text="Sensor GPS" FontSize="22" FontAttributes="Bold" />
                    </VerticalStackLayout>
                </Grid>

                <Border Style="{StaticResource CardBorderStyle}" Padding="20,22" StrokeThickness="0.6" Stroke="#1F2A44">
                    <VerticalStackLayout Spacing="14">
                        <Label Text="Prueba de ubicación" FontAttributes="Bold" />
                        <Label Text="Pulsa el botón para obtener tu ubicación actual usando el GPS del dispositivo." TextColor="{StaticResource TextGray}" />
                        <Button Text="Obtener ubicación" Style="{StaticResource PrimaryButtonStyle}" Command="{Binding GetLocationCommand}" />

                        <Label Text="Coordenadas" FontAttributes="Bold" TextColor="{StaticResource TextGray}" Margin="0,12,0,0" />
                        <Label Text="{Binding LocationText}" />

                        <Label Text="Dirección" FontAttributes="Bold" TextColor="{StaticResource TextGray}" />
                        <Label Text="{Binding AddressText}" />
                    </VerticalStackLayout>
                </Border>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
